{% extends 'template1/base.html' %}
{% load static %}
{% block title %}Advanced Stats
{% endblock %}

{% block advancedStats %}
<script src="{% static 'scripts/advancedStats.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

<div class="section type-2" style="padding-top: 10px; padding-bottom: 0px; margin-bottom: 0px;flex: 1;">
    <div class="section-headlines" style="margin-bottom: 0;">
        <h4 style="padding-bottom: 0;margin-bottom: 0;">Rankings</h4>
    </div>
</div>

<div class="container">
    <div class="d-flex">
        <div class="mr-auto col-lg-5">
            <canvas id="userMentions"></canvas>
        </div>
        <div class="ml-auto col-lg-5">
            <canvas id="tweet1"></canvas>
        </div>
    </div>
    <div class="d-flex" style="margin-top: 25px; margin-bottom: 60px;">
        <div class="mr-auto col-lg-5">
            <canvas id="tweet2"></canvas>
        </div>
        <div class="ml-auto col-lg-5">
            <canvas id="userM"></canvas>
        </div>
    </div>
</div>
    <script>
        var received_data  = {{ dataToSendToJs|safe }} ;
        statsDrawer(received_data[0],'userMentions','1','Most active users','radar',
            'rgb(0,172,238)','rgb(0, 172, 238,0.2','');
        statsDrawer(received_data[1],'tweet1','2','Most tagged tweets','pie',
            'rgba(255, 255, 255, 0.2)',
            ['rgba(255, 99, 132, 0.6)','rgba(255, 159, 64, 0.6)','rgba(255, 206, 86, 0.6)','rgba(75, 192, 192, 0.6)',
                'rgba(54, 162, 235, 0.6)'],'');
        statsDrawer(received_data[2],'userM','3','Most mentioned users','bar',
            ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1),',
                'rgba(255, 159, 64, 1)'],
            ['rgba(255, 99, 132, 0.5)','rgba(255, 159, 64, 0.5)','rgba(255, 206, 86, 0.5)','rgba(75, 192, 192, 0.5)',
                'rgba(54, 162, 235, 0.5)'],[{ticks: {beginAtZero: true}}]);
        statsDrawer(received_data[3],'tweet2','4','Most retweeted tweets','polarArea',
            'rgba(255, 255, 255, 1)',
            ['rgba(255, 99, 132, 0.5)','rgba(255, 159, 64, 0.5)','rgba(255, 206, 86, 0.5)','rgba(75, 192, 192, 0.5)',
                'rgba(54, 162, 235, 0.5)'],'');
    </script>
{% endblock %}